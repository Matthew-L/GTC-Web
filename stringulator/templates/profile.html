{% extends 'base.html' %}
{% load static %}

 {% block login %}
         <ul class="nav navbar-nav pull-right">
        {% if is_logged_in %}
            <li  class="active"> <a href=/profile/><span class="glyphicon glyphicon-user">&nbsp </span>{{ username }}</a></li>
            <li><a href="/accounts/logout/">Logout</a></li>
        {% else %}
          {% if form.errors %}
            <p class="error">Sorry, that's not a valid username or password</p>
          {% endif %}

          <form class="navbar-form navbar-right"  action="/accounts/auth/" method="post">
            {% csrf_token %}
            <div class="form-group">
                <input type="text" name="username" value="" id="username" placeholder="Username" class="form-control">
            </div>
            <div class="form-group">
                <input type="password" name="password" value="" id="password" placeholder="Password" class="form-control">
            </div>
            <button type="submit" class="btn btn-success">Log in</button>
          </form>
        {% endif %}
          </ul>
    {% endblock %}


{% block content %}

    <h1>{{ username }}'s Profile</h1>
    <h2>String Sets {{ username }} Made</h2>
    <div>
    {% for string_set in string_sets %}
        <div class="row" id="row-{{ forloop.counter0 }}">
            <a href="/calculate?string_set_name={{ string_set.name }}&users_set={{ user }}">
                <div class="col-md-4 col-md-offset-3 my-grid text-left" id={{ string_set.name }}>
                    {{ string_set.name }}
                </div>
            </a>

            <a href="/download-set?string_set_name={{ string_set.name }}&user={{ username }}" >
                <div class="col-md-1 my-grid">
                    <span class="glyphicon glyphicon-floppy-save"></span>
                </div>
            </a>

            <a>
                <div class="col-md-1 my-grid delete-set-btn" id="del-{{ string_set}}" num={{ forloop.counter0 }}>
                    <span class="glyphicon glyphicon-trash"></span>
                </div>
            </a>

        </div>
    {% empty %}
        <p><a href="/calculate/">You have not made any string sets.</a></p>
    {% endfor %}
    </div>
{% endblock %}

{% block scripts %}
    {{ block.super }}
        {% if debug %}
            <script src="{% static 'js/delete_set.js' %}"></script>
        {% else %}
            <script src="{{ MEDIA_URL }}js/delete_set.js"></script>
        {% endif %}


{% endblock %}